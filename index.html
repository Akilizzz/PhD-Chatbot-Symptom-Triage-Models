<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Symptom Triage Models Tester</title>
    <style>
        body {
            font-family: Calibri, sans-serif;
            font-size: 24px;
            text-align: left;
            padding: 20px;
            background-color: #e9e9e9;
            border-bottom: 1px solid #ddd;
        }
        img {
            max-width: 100%;
            height: auto;
            margin-top: 20px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div id="topTextBox">
        Thank you for taking the time to complete this chatbot testing exercise
    </div>
    <!-- Random image generator -->
    <script>
        const images = [
            'image1.jpg', // Replace with your actual image URLs
            'image2.jpg',
            'image3.jpg',
            'Screenshot 2024-12-13 152732.jpg'
        ];

        // Utility functions to manage cookies
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
            return null;
        }

        function setCookie(name, value, days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/`;
        }

        // Get already displayed images from cookies
        let shownImages = getCookie('shownImages');
        shownImages = shownImages ? JSON.parse(shownImages) : [];

        // Get the next random image that hasn't been shown yet
        let remainingImages = images.filter(img => !shownImages.includes(img));
        if (remainingImages.length === 0) {
            // If all images have been shown, reset the cycle
            shownImages = [];
            remainingImages = images;
        }

        // Select a random image from the remaining images
        const randomImage = remainingImages[Math.floor(Math.random() * remainingImages.length)];
        shownImages.push(randomImage);

        // Update the cookie with the new list of shown images
        setCookie('shownImages', JSON.stringify(shownImages), 7); // Cookie expires in 7 days

        // Display the selected image
        const imgElement = document.createElement('img');
        imgElement.src = randomImage;
        imgElement.alt = "Random Image";
        document.body.appendChild(imgElement);
    </script>
    <script>
        (function(d,t) {
          var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
          g.src="https://test.ca.one-stop-talk.sbx.gcp.trchq.com//embed.js"
          s.parentNode.insertBefore(g,s);
          g.onload=function(){
            new window.VirtualCareMessengerEncrypted({
              domain: 'https://test.ca.one-stop-talk.sbx.gcp.trchq.com/',
              ws:  'wss://test.ca.one-stop-talk.sbx.gcp.trchq.com/cable',
              app_id: "riaEToTgJ9GartVeTxtaFWCL",
              data: {
                email: "user@email.com",
                identifier_key: "INSERT_HMAC_VALUE_HERE",
                properties: { }
              },
              lang: "USER_LANG_OR_DEFAULTS_TO_BROWSER_LANG" 
            })
          }
        })(document,"script");
    </script>
</body>
</html>
